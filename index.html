<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualisations Olympiques</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/nouislider@15.6.1/dist/nouislider.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <h1>Projet INF8808</h1>
    </header>
    
    <nav class="sidebar">
        <button data-target="#section1">1</button>
        <button data-target="#section2">2</button>
        <button data-target="#section3">3</button>
        <button data-target="#section4">4</button>
    </nav>
    
    <main>
        <section id="section1" class="visual-section">
            <h1 class="title">Visualisation 1</h1>
            <div class="visualization-container">
                <h1 class="graph-title">
                    NOMBRE DE MÉDAILLES GAGNÉES AUX JEUX OLYMPIQUES SELON LA POPULATION DU PAYS
                </h1>
                <div class="graph-and-controls">
                    <div class="graph"></div>
                    <div class="controls-column">
                        <div class="toggle-buttons">
                            <button class="toggle-button active" data-mode="population">Population</button>
                            <button class="toggle-button" data-mode="gdp">PIB</button>
                        </div>
                        <div class="slider-wrapper">
                            <div id="yearRange" style="height: 400px;"></div>
                            <div class="slider-labels" id="rangeLabel" style="font-size: 14px; color: var(--text-color);"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="section2" class="visual-section">
            <h1 class="title">Visualisation 2</h1>
            <div class="visualization-container chart-visualization-container">
                <div class="controlsPodium controls-wrapper">
                    <label for="year-select-podium">Year :</label>
                    <select id="year-select-podium"></select>
                </div>
                <div class="radar-chart-container" id="chart-container-1"></div>
                <div class="radar-chart-container" id="chart-container-2"></div>
                <div class="radar-chart-container" id="chart-container-3"></div>
                <div class="radar-chart-container" id="chart-container-4"></div>
                <div class="radar-chart-container" id="chart-container-5"></div>
            </div>
            <p class="description">Deuxième visualisation</p>
        </section>
        
        <section id="section3" class="visual-section">
            <h1 class="title">Visualisation 3</h1>
            <div class="visualization-container">
                <div class="controls">
                    <label for="year-select">Year :</label>
                    <select id="year-select"></select>
                    <label for="discipline-select">Discipline :</label>
                    <select id="discipline-select"></select>
                </div>
                <div class="graph"></div>
            </div>
            <p class="description">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam sodales...</p>
        </section>
        <section id="section4" class="visual-section">
            <h1 class="title">Visualisation 4</h1>
            <div class="visualization-container">
                <label for="seasonSelect">Season:</label>
                <select id="seasonSelect">
                <option value="Both">Both</option>
                <option value="Summer">Summer</option>
                <option value="Winter">Winter</option>
                </select>
                <div class="graph"></div>
            </div>
        </section>
    </main>

    <script>
        document.querySelectorAll('.sidebar button').forEach(button => {
            button.addEventListener('click', () => {
                document.querySelector(button.dataset.target).scrollIntoView({
                    behavior: 'smooth',
                    block: 'center'
                });
            });
        });

        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('.visual-section');
            const sidebarButtons = document.querySelectorAll('.sidebar button');
            let currentSection = '';
            
            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                if (rect.top <= window.innerHeight / 2 && rect.bottom >= window.innerHeight / 2) {
                    currentSection = `#${section.id}`;
                }
            });
            
            sidebarButtons.forEach(button => {
                if (button.dataset.target === currentSection) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            });
        });
    </script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/nouislider@15.6.1/dist/nouislider.min.js"></script>
    <script type="module" src="main.js"></script>
</body>
</html>
